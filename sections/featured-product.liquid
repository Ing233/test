<div class="wide-container half-gutter section-spacing">
  {%- liquid
    assign is_featured_product = true
    assign product = all_products[section.settings.product]
  -%}

  {%- liquid
  assign current_variant = product.selected_or_first_available_variant
  assign featured_media = product.selected_or_first_available_variant.featured_media | default: product.featured_media
  assign media_columns_to_show = 1
  assign swatch_option_name_lowercase = settings.swatch_option_name | downcase
  assign product_form_id = 'product-form-' | append: section.id | append: '-' | append: product.id

  if section.settings.media_style != 'one-column' and product.media.size > 1
    if section.settings.media_style == 'two-column'
      assign media_columns_to_show = 2
    elsif section.settings.media_style == 'three-column'
      assign media_columns_to_show = 3
    endif
  endif

  assign has_buy_buttons = false
  for block in section.blocks
    if block.type == 'buy_buttons'
      assign has_buy_buttons = true
    endif
  endfor
-%}


{%- assign ql_length_str          = '' -%}
{%- assign arr_product_hb_handles = nil -%}
{%- assign arr_product_hb_handles_temp = nil -%}
{%- assign ql_hh_subtitle         = '' -%}
{% assign ql_ootd_arr = nil %}
{% assign ql_diff_style_arr = nil %}
{% assign ql_diff_rises_arr = nil %}


{%- for this_tag in product.tags -%}
    {%- assign arr_this_tag_tmp = this_tag | downcase | split: 'huohao_' -%}
    {%- if arr_this_tag_tmp.size > 1 -%}
        {%- assign arr_this_handle = this_tag | downcase | replace_first: 'huohao_', '' | split: '_' -%} 

        {% assign csort = '1' %}
        {% if arr_this_handle.size > 1 %}
          {% assign csort = arr_this_handle[1] %}
        {% endif %}

        {% assign arr_sort_hh = csort | append: '_' | append: arr_this_handle[0] | split: ',_' %}
        {%- assign arr_product_hb_handles_temp = arr_product_hb_handles_temp | concat: arr_sort_hh  -%}
    {%- endif -%}

    
    {%- assign arr_this_tag_tmp = this_tag | split: 'QLTH_' -%}
    {%- if arr_this_tag_tmp.size > 1 -%}
        {%- assign ql_length_str = this_tag | replace_first: 'QLTH_' -%}
    {%- endif -%}


    {%- assign arr_this_tag_tmp = this_tag | split: 'TITLE_' -%}
    {%- if arr_this_tag_tmp.size > 1 -%}
        {%- assign ql_hh_subtitle = this_tag | replace_first: 'TITLE_' -%}
    {%- endif -%}
    
  {%- comment -%} ootd  {%- endcomment -%}
  {% assign temp_ootd_arr = this_tag | split: 'OOTD_' %}
  {% if temp_ootd_arr.size > 1 %}
    {% assign temp_ootd = this_tag | replace_first: 'OOTD_', '' | split: ',_' %}
    {% assign ql_ootd_arr = ql_ootd_arr | concat: temp_ootd %}
  {% endif %}

  {% assign temp_diff_style = this_tag | split: 'DTRY_' %}
    {% if temp_diff_style.size > 1 %}
      {% assign temp_diff_style = this_tag | replace_first: 'DTRY_', '' | split: '_' %}
      {% assign ql_diff_style_arr = ql_diff_style_arr | concat: temp_diff_style %}
    {% endif %}

    {% assign temp_diff_rise = this_tag | split: 'RISES_' %}
    {% if temp_diff_rise.size > 1 %}
      {% assign temp_diff_rise = this_tag | replace_first: 'RISES_', '' | split: '_' %}
      {% assign ql_diff_rises_arr = ql_diff_rises_arr | concat: temp_diff_rise %}
    {% endif %}
{%- endfor -%}

 {%- comment -%} ootd 数据处理 {%- endcomment -%}
{% assign ootd_color_arr = nil %}
{% assign ootd_pos = nil %}
{% assign ootd_rec_mess  = nil %}
{% if ql_ootd_arr.size > 0 %}
  
  {% for this_ootd in ql_ootd_arr %}
    {% assign ootd_mess = this_ootd | split: '_' %}


    {% assign temp_color = ootd_mess[0] | split: ',_' %}
    {% assign temp_pos = ootd_mess[1] | split: ',_' %}
    {% assign title_mess = ootd_mess[0] | append: '_' | append: ootd_mess[1] | append: '_' %}
    {% assign tem_rec_mess = this_ootd | replace_first: title_mess, '' | split: ',_' %}

    {% assign ootd_color_arr = ootd_color_arr | concat: temp_color %}
    {% assign ootd_pos = ootd_pos | concat: temp_pos %}
    {% assign ootd_rec_mess = ootd_rec_mess | concat: tem_rec_mess %}

    
    
  {% endfor %}
{% endif %}
 {%- if arr_product_hb_handles_temp == nil or arr_product_hb_handles_temp.size == 0 -%}  
    {%- assign arr_product_hb_handles_temp = '1' | append: '_' | append: product.handle | split: ',_' -%} 
{%- endif -%}
{% assign arr_product_hb_handles_temp = arr_product_hb_handles_temp | uniq | sort %}

{% for str_hh in arr_product_hb_handles_temp %}
    {% assign arr_temp = str_hh | split: '_' %}
    {% assign arr_hh_temp = arr_temp[1] | split: ',_' %}
    {% assign arr_product_hb_handles = arr_product_hb_handles | concat: arr_hh_temp %}
{% endfor %}
 
{%- if arr_product_hb_handles == nil or arr_product_hb_handles.size == 0 -%}  
    {%- assign arr_product_hb_handles = product.handle | split: ',_' -%} 
{%- endif -%} 
 
{%- assign arr_all_page_color  = nil -%}

{%- assign arr_hb_data         = nil -%}
{%- assign arr_hb_data_temp         = nil -%}
{%- assign arr_hb_gcolor       = nil -%}
{%- assign arr_hb_all_variants = nil -%}
{% assign arr_discount_metafield = nil %}

{%- assign current_option2_val = current_variant['option2'] -%}
{%- assign current_option3_val = current_variant['option3'] -%}
{%- for this_sort_hb_handel in arr_product_hb_handles_temp -%}
    {% assign arr_hh_temp = this_sort_hb_handel | split: '_' %}
    {% assign this_hb_sort = arr_hh_temp[0] %}
    {% assign this_hb_handel = arr_hh_temp[1] %}
    {%- if this_hb_handel == '' -%}{%- continue -%}{%- endif -%}


    {%- assign arr_this_data = nil -%} 
    {%- assign this_product  = all_products[this_hb_handel] -%} 

    {%- assign arr_hb_all_variants = arr_hb_all_variants | concat: this_product.variants -%}


    {%- comment -%} 折扣字段处理 {%- endcomment -%}
    {% assign arr_discount_m =  this_product.metafields.custom.discount.value %}
    {% assign arr_discount_metafield = arr_discount_metafield | concat: arr_discount_m %}


    {%- comment -%}颜色标签处理{%- endcomment -%}
    {%- for this_tag in this_product.tags -%}
        {%- assign arr_tag_tmp = this_tag | downcase | split: 'qlg_' -%}
        {%- if arr_tag_tmp.size < 2 -%}{%- continue; -%}{%- endif -%}		

        {%- assign this_data = this_tag | replace_first: 'QLG_', '' -%}
		
        {%- assign arr_this_tag_data = this_hb_handel | append: '_' | append: this_data | split: ',_'  -%}
        {%- assign arr_this_data = arr_this_data | concat: arr_this_tag_data -%}
    {%- endfor -%}
	
    {%- assign arr_this_data = arr_this_data | uniq -%}
	
	
    {%- assign arr_this_hb_data = nil -%}
    {%- assign arr_this_color   = this_product.options_by_name['Color'].values -%}
    {%- assign this_color_size  = arr_this_color.size -%}
	{%- for this_hb_str in arr_this_data -%}
	    {%- assign arr_this_tmp = this_hb_str | split: '_' -%}
	    
	    {%- assign this_handle    = arr_this_tmp[0] -%}
	    {%- assign this_gIndex    = arr_this_tmp[1] -%}
	    {%- assign this_gname     = arr_this_tmp[2] -%}
		{%- assign this_colorlx   = arr_this_tmp[3] -%}
		
		
		{%- assign this_str_head  = this_handle | append: '_' | append: this_gIndex | append: '_' | append: this_gname | append: '_'  -%}
		{%- if this_colorlx == '1' or this_colorlx == '0' -%}
		    {%- assign this_str_head  = this_str_head | append: this_colorlx | append: '_' -%}  
		{%- endif -%}
		
		{%- if this_colorlx != '1' and this_colorlx != '0' -%}
		    {%- assign this_colorlx  = '0' -%}  
		{%- endif -%}
		
	
		{%- assign this_color     = this_hb_str | replace_first: this_str_head, '' -%}
    {%- assign this_variantid = 0 -%}		

		{%- assign this_colorIndex = '00' -%}  
        {%- for this_index in (0..this_color_size) -%} 
            {%- if arr_this_color[this_index] == this_color  -%}
              {%- if this_index < 10 -%}
                {%- assign this_colorIndex = '0' | append: this_index -%}
              {% else%}
                {%- assign this_colorIndex = this_index -%}
              {%- endif -%}
                {%- break -%}
            {%- endif -%}
        {%- endfor -%}
        
        {%- assign arr_hb_this_gcolor = this_gIndex | append: '_' | append: this_gname | split: ',_'  -%}
        {%- assign arr_hb_gcolor      = arr_hb_gcolor | concat: arr_hb_this_gcolor -%}
        
        {%- assign arr_this_hb_str    = this_gIndex | append: '_' | append: this_gname | append: '_' | append: this_hb_sort | append: '_' | append: this_handle | append: '_' | append: this_colorIndex | append:'_' | append: this_colorlx | append: '_' | append: this_color | split: ',_ _' -%}
      
        {%- assign arr_this_hb_data   = arr_this_hb_data | concat: arr_this_hb_str -%}

        {%- assign arr_this_page_color = this_color | split: ',_' -%}
        {%- assign arr_all_page_color  = arr_all_page_color | concat: arr_this_page_color -%}

    {%- endfor -%}
    
    {%- assign arr_hb_data_temp = arr_hb_data_temp | concat: arr_this_hb_data -%}
{%- endfor -%}

{%- assign arr_hb_gcolor = arr_hb_gcolor | uniq | sort -%}
{%- assign arr_hb_data_temp   = arr_hb_data_temp   | uniq | sort -%}

<!-- 去掉货号排序字段 -->
{% for this_hh_data in arr_hb_data_temp %}
    {% assign arr_this_temp = this_hh_data | split: '_' %}
    {% assign arr_hh_data = arr_this_temp[0] | append: '_' | append: arr_this_temp[1] | append: '_' | append: arr_this_temp[3] | append: '_' | append: arr_this_temp[4] | append: '_' | append: arr_this_temp[5] | append: '_' | append: arr_this_temp[6] | split: ',_ _' %}
    {% assign arr_hb_data = arr_hb_data | concat: arr_hh_data %}
{% endfor %}


{% if arr_hb_all_variants == nil or arr_hb_all_variants.size == 0 %}
  {% assign arr_hb_all_variants = product.variants %}
{% endif %}



{%- liquid
   
	assign arr_ql_length = nil
	if ql_length_str and ql_length_str != blank
		assign arr_tmp = ql_length_str | split: '_'       
		assign length_index  = arr_tmp.size | divided_by: 2 | floor | minus: 1

		if length_index > 0
			for i in (0..length_index)     
				assign this_handle_index  = i | times: 2
				assign this_length_index  = this_handle_index | plus: 1
                assign this_length_handle = arr_tmp[this_handle_index] | handle 

				if all_products[this_length_handle].handle != this_length_handle
				    continue 
                endif
				
                
                assign this_length_str = arr_tmp[this_length_index] | append: '_' | append: this_length_handle
                assign ql_this_hb_size = arr_hb_data.size |minus:1

                for j in (0..ql_this_hb_size)
                    assign this_check_str = '_' | append: this_length_handle | append: '_'
                    assign arr_this_check_tmp = arr_hb_data[j] | split: this_check_str  
                    
                    if arr_this_check_tmp.size > 1
                        assign assign this_length_str = this_length_str | append: '_1'
                        break
                    endif
                endfor
                
				assign arr_this_length_str = this_length_str | split: '__,'
				assign arr_ql_length = arr_ql_length | concat: arr_this_length_str
			endfor
		endif
	endif  
-%}
<script>
  

  var _ql_current_variant      = {{ current_variant | json }};
  var _ql_all_handels_variants_featured = {{ arr_hb_all_variants | json  }};
  var _ql_all_color_str        = {{ arr_hb_data | json }};
  var _ql_current_product      = {{ product | json }};
  var _ql_ootd_arr          = {{ql_ootd_arr | json}};
  var ootd_pos = {{ootd_pos | json}}
  var ootd_color_arr = {{ootd_color_arr | json}};
  var ootd_rec_mess = {{ootd_rec_mess | json}};
  var _ql_arr_product_hb_handles  = {{arr_product_hb_handles | json}};
  var _ql_arr_product_hb_handles_temp  = {{arr_product_hb_handles_temp | json}};
  
  var _ql_arr_discount_metafield = {{arr_discount_metafield | json}};
  
  if ( typeof(_ql_current_variantid) == 'undefined' ) {
       var _ql_current_variantid =   {{ current_variant.id }};  
  } else {
        _ql_current_variantid =   {{ current_variant.id }};
  }
  
  
  </script>
  
  <script type="application/json" id="cc-product-json-{{ product.id }}">
      {{ product | json }}
  </script>
<style>
  .ql-color-group-list li a{
    display: inline-block;
    overflow: hidden;
    position: relative;
    text-indent: -1000px;
    opacity: 1;
    padding: 2px;
    margin-right: 4px;
    border: 2px solid #ffffff;
    border-radius: 100%;
    box-shadow: 0 0 0 2px #e7e7e7;
    transition: box-shadow .5s;
    height: 35px;
    width: 35px;
  }
    
  .ql-color-group-list li a.active{
    box-shadow: 0 0 0 2px #9e9d9d;
  }  
    
  .ql-color-group-list{
    margin:2em 0em;
  }
    
  .ql-length-lab{
    white-space:nowrap;
  
    height:36px!important;
    line-height: 36px!important;
    display: inline-block;
    padding:0px 5px;
  
    color: #000;
    background-color: #fff;
    margin: 0 8px 10px 0;
    cursor: pointer;
    border: 1px solid #ddd;
    position: relative;
    font-size: 14px;
  
    min-width: 34px!important;
    white-space: nowrap;
    text-align: center;
    float: unset!important;
    outline: 0!important; 
  }
   
  .ql-length-lab.selected{
    color: #fff;
    background-color: #000;
  }  
  .ql_swatches__container{
    margin: 2em 0 1em;
    float:left;
    width:100%; 
  }  
  .ql_swatches__option-name{
    float:left;
    height:40px!important;
    line-height: 0px!important;
    min-width:50px;
  } 
  .ql_swatches__swatch--regular{
   float:left; 
    
  }
  .ql-length-lab{
  
    color: #000;
    background-color: #fff;
  
    cursor: pointer;
  
  
  }
    
  .ql-length-lab.selected{
    color: #fff;
    background-color: #000;
  }  
    
  /* 顶部显示选中组合 */
  
  #ql-selected-variant-info.site-control{
      position: fixed;
      background-color: rgba(0,0,0,0.8);
      color: #fff;
      font-family: Poppins, sans-serif;
      overflow: hidden;
      height: 0px;
      transition: height .1s ease-in-out;
      font-size: 1.07rem;
  }
  
  #ql-selected-variant-info h3 {
      color: #fff;
      font-size: 1.07rem;
      text-align: start;
      font-family: Poppins, sans-serif;
      margin-bottom: 0.7rem;
  }
  
  #ql-selected-variant-info.site-control .variant-info img{
    margin-right: 5px;
    width: 4rem;
    vertical-align: top;
  }
  #ql-selected-variant-info.site-control .site-control__inner {
      justify-content: space-between;
      padding: 16px 60px;
  }
  
  #ql-selected-variant-info .site-control__inner>div {
      display: flex;
      align-items: center;
      text-align: start;
  }
  #ql-selected-variant-info .actios .option-name,
  #ql-selected-variant-info .actios .option-color{
      margin-right: 10px;
  }
  #ql-selected-variant-info .actios button{
      background-color: #ffffff;
      color: #000102;
      white-space: nowrap;
      line-height: 1rem;
  }
  #ql-selected-variant-info .actios button:hover{
      background-color: #000102;
      color: #ffffff;
  }
  
  #ql-selected-variant-info .actios button:not([name="add"]) {
      display: none;
  }
  
  #ql-selected-variant-info .actios .qlselect{
      display: inline-block;
      float: left;
      overflow: hidden;
      position: relative;
      text-indent: -1000px;
      opacity: 1;
      padding: 2px;
      /* margin-right: 4px; */
      border-radius: 100%;
      box-shadow: 0 0 0 2px #e7e7e7;
      transition: box-shadow .5s;
      height: 20px;
      width: 20px;
  }
  
  @media (max-width: 768px){
    #ql-selected-variant-info.site-control{
      font-size: 0.7rem;
    }
    #ql-selected-variant-info h3 {
      font-size: 0.7rem;
    }
  
    #ql-selected-variant-info.site-control .site-control__inner{
      padding: 15px;
    }
  
    #ql-selected-variant-info .actios .option-name,
    #ql-selected-variant-info .actios .option-color{
      display: none;
    }
  
    #ql-selected-variant-info .actios button {
      padding: 10px 20px;
      font-family: Poppins, sans-serif;
      font-size: 1px!important;
    }
  
    #ql-selected-variant-info .actios .option-name span {
      font-weight: 600;
  }
  }
  
  
  .ql-discount-box {
      background: #f4f4f4;
      padding: 11px;
      border-radius: 3px;
      margin: 1.25em 0;
  }
  
  .ql-discount-box p {
    margin: 0;
  }
  p.discount-data {
    display: flex;
    flex-wrap: wrap;
    font-size: 1.25em;
  }
  
  span.red-color {
      letter-spacing: 0px;
      line-height: 28px;
      color: rgba(187, 0, 44, 1);
  }
  .ql-weight{
    font-weight: 500;
  }
  .underline{
    text-decoration-line:underline;
  }
  .padding{
    padding: 11px 0;
  }
  .pointer{
    cursor: pointer;
  }
  
  
  .tooltip {
    position: relative;
    display: inline-block;
    border-bottom: 1px dotted #fff;
  }
  
  .tooltip .tooltiptext {
    visibility: hidden;
    width: 120px;
    background-color: #fff;
    color: black;
    text-align: center;
    border-radius: 6px;
    padding: 11px 0;
    position: absolute;
    z-index: 1;
    bottom: 150%;
    left: 50%;
    margin-left: -60px;
    border: 1px solid #f4f4f4;
  }
  
  .tooltip .tooltiptext::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: #fff transparent transparent transparent;
  }
  
  .tooltip.copy .tooltiptext {
    visibility: visible;
  }
  
  
  #ql-discount-dialog {
      background: rgba(0, 0, 0, 0.3);
  }
  
  
  #ql-discount-dialog #page-content {
      position: fixed;
      left: 50%;
      top: 15%;
      width: 550px !important;
      max-height: 80%;
      z-index: 21;
      transform: translate(-50%);
      background: #fff;
      color: #000000;
      padding: 0px;
      overflow: hidden;
      overflow-y: auto;
  }
  
  .discount-data>span {
      text-wrap: nowrap;
      font-size: 1em;
  }
  
  .ql-discount-amazon-btn.button.alt {
      background: #e0e0e0;
      text-align: center;
      border: 1px solid rgba(244, 244, 244, 1);
      margin-bottom: 1.5rem;
  }
  
  .ql-discount-amazon-btn.button.alt:hover {
      border: 1px solid #000;
      color: #000!important;
      background-color: #fff!important;
  }
  </style>
 
<div class="product-area
      {% if product.media.size == 1 %}product-area--loner{% endif %}
      {% unless section.settings.full_width or is_featured_product %} product-area--restrict-width{% endunless %}
      {% if section.settings.media_style == 'one-column' %}product-area--one-col {% if section.settings.full_width %}header-overlap-section{% endif %} {% endif %}
      {% if section.settings.media_style == 'two-column' %}product-area--two-col {% endif %}"
     data-section-type="product-template"
     data-components="tabs"
     data-is-featured-product="{{ is_featured_product }}"
     data-ajax-add-to-cart="{% if section.settings.cart_type == "go_to_cart" %}false{% else %}true{% endif %}"
     data-product-id="{{ product.id }}"
     data-enable-history-state="true">
  <style type="text/css">
    {% for media in product.media %}
    @media(max-width:767px){
        .product-area__details__thumbs__thumb-{{ forloop.index }} .rimage-outer-wrapper {
            width: {{ media.preview_image.aspect_ratio | times: 70 | floor }}px;
        }
    }
    {% endfor %}
  </style>

  {% if section.settings.enable_mobile_sticky_cart %}
    <div class="product-area__add-to-cart-xs footer-button-xs" data-cc-animate="cc-fade-in-up" data-cc-animate-delay="1s">
      <button class="button no-hover">{{ 'products.product.add_to_cart' | t }}</button>
    </div>
  {% endif %}

  <div class="product-area__media {% if media_columns_to_show != 1 %}multi-column{% endif %}"
       data-cc-animate data-cc-animate-duration="2s">

    <div class="theme-gallery product-slider
        {% if is_featured_product %}featured-product__gallery{% endif %}
        {% if product.media.size == 1 %}theme-gallery--loner{% endif %}
        {% if section.settings.enable_zoom %}theme-gallery--zoom-enabled{% endif %}
        {% if section.settings.show_thumbnails and product.media.size > 1 and media_columns_to_show == 1 %}theme-gallery--thumbs-enabled{% endif %}"
         data-column-count="{{ media_columns_to_show }}"
         data-scroll-to-variant-media="{{ section.settings.scroll_to_variant_media }}"
    >
      <div class="theme-viewport swiper-container" data-swiper-nav-style="{{ section.settings.slide_nav_style }}">
        <div class="theme-images swiper-wrapper">
          {% if product != blank %}
          {% if arr_product_hb_handles.size > 1 %}
          {% assign index = 0 %}
            {%- for ql_this_handle in arr_product_hb_handles -%}
                {%- assign ql_product_index = forloop.index -%}
                {%- assign ql_this_product = all_products[ql_this_handle] -%}
                {%- for media in ql_this_product.media -%}
                {% assign index = index | plus: 1 %}
                  <div class="theme-img theme-img-{{index}} swiper-slide {% if featured_media == media %}current-img{% endif %}"
                    {% if media.media_type == "image" %}
                      data-full-size="{{ media.preview_image | img_url: 'master' }}"
                    {% endif %}>
                    {%- if media_columns_to_show != 1 -%}
                      {% render 'media', media: media, animation_type: 'cc-fade-in', prevent_lazyload: forloop.first %}
                    {%- else -%}
                      {%- if is_featured_product -%}
                        {% assign animate_delay = forloop.index | times: 0.15 %}
                        {% render 'media', media: media, animate: false, animation_type: "cc-fade-in-up" %}
                      {%- else -%}
                        {% render 'media', media: media, prevent_lazyload: forloop.first %}
                      {%- endif -%}
                    {%- endif -%}

                  </div>
                {%- endfor -%}
            {%- endfor -%}
          {% else %}
            {% for media in product.media %}
              <div class="theme-img theme-img-{{ forloop.index }} swiper-slide {% if featured_media == media %}current-img{% endif %}"
                      {% if media.media_type == "image" %}
                        data-full-size="{{ media.preview_image | img_url: 'master' }}"
                      {% endif %}>
                {%- if media_columns_to_show != 1 -%}
                  {% render 'media', media: media, animation_type: 'cc-fade-in', prevent_lazyload: forloop.first %}
                {%- else -%}
                  {%- if is_featured_product -%}
                    {% assign animate_delay = forloop.index | times: 0.15 %}
                    {% render 'media', media: media, animate: false, animation_type: "cc-fade-in-up" %}
                  {%- else -%}
                    {% render 'media', media: media, prevent_lazyload: forloop.first %}
                  {%- endif -%}
                {%- endif -%}

              </div>
            {% endfor %}
          {% endif %}
          {% elsif is_featured_product %}
            {% for i in (1..5) %}
              <div class="theme-img placeholder-slide theme-img-{{ forloop.index }} swiper-slide {% if featured_media == media %}current-img{% endif %}">
                {% capture placeholder_svg_name %}product-{{ i }}{% endcapture %}
                <div class="placeholder-image">{{ placeholder_svg_name | placeholder_svg_tag }}</div>
              </div>
            {% endfor %}
          {% endif %}
        </div>
        <div class="swiper-pagination"></div>
        <a href="#" class="swiper-button-prev" aria-label="{{ 'general.accessibility_labels.previous' | t | escape }}">{% render 'svg-chevron-left' %}</a>
        <a href="#" class="swiper-button-next" aria-label="{{ 'general.accessibility_labels.next' | t | escape }}">{% render 'svg-chevron-right' %}</a>
      </div>
    </div>

    {%- assign models = product.media | where: 'media_type', 'model' -%}
    {% if models.size > 0 %}
      <script type="application/json" class="model-json">
        {{- product.media | where: 'media_type', 'model' | json -}}
      </script>

      <button
              class="view-in-space"
              data-shopify-xr
              data-shopify-model3d-first-id="{{ models.first.id }}"
              data-shopify-model3d-id="{{ models.first.id }}"
              data-shopify-first-title="{{ product.title | escape }}"
              data-shopify-title="{{ product.title | escape }}"
              data-shopify-xr-hidden>
        {%- render 'icon-3d-badge-full-color' -%}
        <span class="view-in-space__text">{{ 'products.product.view_in_space' | t }}</span>
      </button>
    {% endif %}
  </div>

  <div class="product-area__details product-detail">
    <div class="product-area__details__inner {% if section.settings.sticky_product_form == false %}product-area__details__inner--not-sticky{% endif %}">
      {%- if section.settings.show_thumbnails and product.media.size > 1 and media_columns_to_show == 1 -%}
        <div class="product-area__details__thumbs" data-cc-animate>
          <div class="carousel-wrapper">
            <div class="carousel">
               {% if arr_product_hb_handles.size > 1 %}
               {% assign index = 0 %}
                {%- for ql_this_handle in arr_product_hb_handles -%}
                  {%- assign ql_product_index = forloop.index -%}
                  {% for media in all_products[ql_this_handle].media %}
                  {% assign index = index | plus: 1 %}
                    <div class="product-area__details__thumbs__thumb product-area__details__thumbs__thumb-{{index}} theme-gallery-thumb"
                        data-media-id="{{ media.id }}">
                      <a href="{{ media.preview_image.src | product_img_url: 'master' }}"
                              {% if forloop.first %} class="thumb-active"{% endif %}
                        aria-label="{{  media.alt | escape  }}"
                      >
                        {% render 'responsive-image', image: media.preview_image %}

                        {%- if media.media_type == 'video' or media.media_type =='external_video' -%}
                          <div class="thumbnail__badge">
                            {% render 'icon-video-badge-full-color' %}
                          </div>
                        {%- endif -%}

                        {%- if media.media_type == 'model' -%}
                          <div class="thumbnail__badge">
                            {% render 'icon-3d-badge-full-color' %}
                          </div>
                        {%- endif -%}
                      </a>
                    </div>
                  {% endfor %}
                {%- endfor -%}
              {% else %}
              {% for media in product.media %}
                <div class="product-area__details__thumbs__thumb product-area__details__thumbs__thumb-{{ forloop.index }} theme-gallery-thumb"
                     data-media-id="{{ media.id }}">
                  <a href="{{ media.preview_image.src | product_img_url: 'master' }}"
                          {% if forloop.first %} class="thumb-active"{% endif %}
                     aria-label="{{  media.alt | escape  }}"
                  >
                    {% render 'responsive-image', image: media.preview_image %}

                    {%- if media.media_type == 'video' or media.media_type =='external_video' -%}
                      <div class="thumbnail__badge">
                        {% render 'icon-video-badge-full-color' %}
                      </div>
                    {%- endif -%}

                    {%- if media.media_type == 'model' -%}
                      <div class="thumbnail__badge">
                        {% render 'icon-3d-badge-full-color' %}
                      </div>
                    {%- endif -%}
                  </a>
                </div>
              {% endfor %}
              {% endif %}
            </div>
          </div>
        </div>
      {%- endif -%}

      <div class="product-area__details__header" data-cc-animate data-cc-animate-delay="0.8s" data-cc-animate-duration="1.2s">
        <div class="product-detail__form">

          {% if product != blank %}
            {% capture product_form_class %}product-purchase-form feedback-{{ section.settings.cart_type }}{% endcapture %}
            {%- if product.featured_image == blank -%}
              {%- assign image_thumb = product.media[0].preview_image.src | img_url: '300x300' %}
            {%- else -%}
              {% assign image_thumb = product.featured_image.src | img_url: '300x300' %}
            {%- endif -%}

            {%- if settings.swatch_enabled and settings.swatch_method == "image" and settings.swatch_use_prod_images == false -%}
              {% style %}
                {%- for product_option in product.options_with_values -%}

                  {% assign product_option_name_lowercase = product_option.name | downcase %}
                  {%- if 'color' == product_option_name_lowercase and arr_hb_data.size > 0 -%}   
                 {%- if product_option_name_lowercase == swatch_option_name_lowercase -%}
                    {%- for value in arr_all_page_color -%}
                      {%- assign swatch_value = value | handle -%}
                      #ql-selected-variant-info .actios .qlselect[data-value="{{ value }}"],
                      .ql-color-group-list .clickyboxes .opt--{{ swatch_value }}::before {
                      background-image: url({{ swatch_value | append: '.png' | file_img_url: '48x48', crop: 'center' }});
                      }
                    {%- endfor -%}
                  {%- endif -%}
          
          
          
            {%- else -%}
                    {%- if product_option_name_lowercase == swatch_option_name_lowercase -%}
                    {%- for value in product_option.values -%}
                      {%- assign swatch_value = value | handle -%}
                      #ql-selected-variant-info .actios .qlselect[data-value="{{ value }}"],
                      .clickyboxes .opt--{{ swatch_value }}::before {
                      background-image: url({{ swatch_value | append: '.png' | file_img_url: '48x48', crop: 'center' }});
                      }
                    {%- endfor -%}
                  {%- endif -%}  

            {%- endif -%}
                {%- endfor -%}
              {% endstyle %}
            {%- elsif settings.swatch_enabled and settings.swatch_use_prod_images == true -%}
              {%- assign found_first_image = false -%}

              {% style %}
                {%- for product_option in product.options_with_values -%}
                  {%- assign product_option_name_lowercase = product_option.name | downcase -%}
                  {%- if product_option_name_lowercase == swatch_option_name_lowercase -%}
                    {%- for value in product_option.values -%}
                      {%- for variant in product.variants -%}
                        {%- assign break_variant_loop = false -%}
                        {%- for option in variant.options -%}
                          {%- if option == value and variant.featured_media.preview_image -%}
                            {%- assign break_variant_loop = true -%}
                            {%- assign swatch_value = value | handle -%}
                            {% if settings.swatch_prod_images_shape == "natural" %}
                              {%- if found_first_image == false -%}
                                .product-area[data-product-id="{{ product.id }}"] .cc-swatches-prod-img ul li a {
                                padding-top: {{ 1 | divided_by: variant.featured_media.preview_image.aspect_ratio | times: 100 }}%;
                                }
                                {%- assign found_first_image = true -%}
                              {%- endif -%}

                              .product-area[data-product-id="{{ product.id }}"] .option--{{ swatch_option_name_lowercase | handle }} select[data-colour-swatch="true"] + .clickyboxes .opt--{{ swatch_value }} {
                              padding-top: {{ 1 | divided_by: variant.featured_media.preview_image.aspect_ratio | times: 100 }}%;
                              }
                            {% endif %}

                            .product-area[data-product-id="{{ product.id }}"] .option--{{ swatch_option_name_lowercase | handle }} select[data-colour-swatch="true"] + .clickyboxes .opt--{{ swatch_value }}::before {
                            background-image: url({{ variant.featured_media.preview_image | img_url: '180x', crop: 'center' }});
                            }
                            {%- break -%}
                          {%- endif -%}
                        {%- endfor -%}
                        {%- if break_variant_loop -%}
                          {%- break -%}
                        {%- endif -%}
                      {%- endfor -%}
                    {%- endfor -%}
                    {%- break -%}
                  {%- endif -%}
                {%- endfor -%}
              {% endstyle %}
            {%- endif -%}

            {%- for block in section.blocks -%}
              {%- case block.type -%}
              {%- when '@app' -%}
                {% render block %}

              {%- when 'vendor_and_type' -%}
                {%- liquid
                  if block.settings.show_type and product.type != blank
                    assign type_empty = false
                  else
                    assign type_empty = true
                  endif

                  if block.settings.show_vendor and product.vendor != blank
                    assign vendor_empty = false
                  else
                    assign vendor_empty = true
                  endif
                -%}

                {% if type_empty == false or vendor_empty == false %}
                  <div class="vendor product-detail__gap-sm" {{ block.shopify_attributes }}>
                    {% if block.settings.show_vendor %}
                      {% comment %}
                        Do we have a collection that has the same name as our product vendor name?
                        If we do, let's have the vendor link point to it.
                        If not, we will point to the automatic vendor collection.
                      {% endcomment %}
                      {%- liquid
                        assign product_vendor_handle = product.vendor | handle
                        if collections[product_vendor_handle].handle == product_vendor_handle
                          assign vendor_url = collections[product_vendor_handle].url
                        else
                          assign vendor_url = product.vendor | url_for_vendor
                        endif
                      -%}
                      <span class="brand">
                              <a data-cc-animate-click href="{{ vendor_url }}">{{ product.vendor }}</a>
                            </span>
                    {% endif %}

                    {% if block.settings.show_type %}
                      {%- liquid
                        assign product_type_handle = product.type | handle
                        if collections[product_type_handle].handle == product_type_handle
                          assign type_url = collections[product_type_handle].url
                        else
                          assign type_url = product.type | url_for_type
                        endif
                      -%}

                      {% if product.type != blank %}
                        {% if vendor_empty == false %}<span class="cc-bullet">&bull;</span>{% endif %}

                        <span class="type">
                                <a data-cc-animate-click href="{{ type_url }}">
                                  {{ product.type }}
                                </a>
                              </span>
                      {% endif %}
                    {% endif %}
                  </div>
                {% endif %}

              {%- when 'title' -%}
                {% if is_featured_product %}
                  <a data-cc-animate-click class="product-area__details__title product-detail__gap-sm h2" href="{{ product.url }}" {{ block.shopify_attributes }}>
                    {{ product.title }}
                  </a>
                {% else %}
                  {%- liquid
                    assign heading_tag = "h2"
                    if block.settings.heading_h1
                      assign heading_tag = "h1"
                    endif
                  -%}
                  <{{ heading_tag }} class="product-area__details__title product-detail__gap-sm h2" {{ block.shopify_attributes }}>{{ product.title }}</{{ heading_tag }}>
                {% endif %}

              {%- when 'price' -%}
                <div class="price-area product-detail__gap-sm" {{ block.shopify_attributes }}>
                  {% if current_variant.compare_at_price > current_variant.price %}
                    <span class="was-price theme-money">{{ current_variant.compare_at_price | money }}</span>
                  {% endif %}
                  <div class="price theme-money">{{ current_variant.price | money }}</div>

                  {% render 'unit-price', variant: current_variant %}
                </div>

                {% for zk_value in arr_discount_metafield %}
                  {% assign date_now = "now" | date: "%s" %}
                  {% assign date_start = zk_value.start_time | replace_first: '_', ' '  | date: "%s" %}
                  {% assign date_end = zk_value.end_time | replace_first: '_', ' '  | date: "%s" %}
                  {% assign this_handle = zk_value.handle | handle %}
                  {% if date_now > date_start and date_now < date_end %}
                  
                      <discount-countdown data-d-handle="{{zk_value.handle}}" style="display: {% if product.handle == this_handle %}block{% else %}none{% endif %};" data-d-start="{{date_start}}" data-d-end="{{date_end}}" data-d-code="{{zk_value.discount_code}}" data-d-value="{{zk_value.discount_value}}" data-d-type="{{zk_value.discount_type}}" data-d-url="{{settings.discount_url}}"></discount-countdown>
                  {% endif %}
                {% endfor %}
              {%- when 'review_summary' -%}
                <span class="shopify-product-reviews-badge" data-id="{{ product.id }}" {{ block.shopify_attributes }}></span>

              {%- when 'description' -%}
                <div class="product-detail__form__description product-detail__gap-lg rte align-left" {{ block.shopify_attributes }}>
                  {{ product.description }}
                </div>

              {%- when 'sku' -%}
                {% if product.selected_or_first_available_variant.sku != blank %}
                  <div class="sku {% if product.selected_or_first_available_variant.sku == blank %}sku--no-sku{% endif %} product-detail__gap-sm" {{ block.shopify_attributes }}>
                    {{ 'products.product.sku' | t }} <span class="sku__value">{{ product.selected_or_first_available_variant.sku }}</span>
                  </div>
                {% endif %}

              {%- when 'variant_picker' -%}
                <div class="product-detail__form__options product-detail__gap-lg
                        product-detail__form__options--{{ block.settings.variant_style }}
                        {% if product.variants.size == 1 %}product-detail__form__options--no-options{% endif %}"
                    data-show-realtime-availability="{{ block.settings.show_realtime_availability }}" {{ block.shopify_attributes }}>

                  {% if product.variants.size > 1 %}
                    {% if has_buy_buttons == false %}
                      <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
                    {% endif %}

                    <div class="option-selectors options-{{ product.options_with_values | size }}">
                      {% for option in product.options_with_values %}

                        {% assign show_swatches = false %}
                        {% assign option_name_lowercase = option.name | downcase %}
                        {% if settings.swatch_enabled and option_name_lowercase == swatch_option_name_lowercase %}
                          {% assign show_swatches = true %}
                        {% endif %}

                        <div class="selector-wrapper {% if show_swatches %} cc-swatches option--{{ option_name_lowercase | handle }} {% if settings.swatch_use_prod_images == true %}cc-swatches-prod-img{% endif %}{% endif %}"
                            data-option-name="{{ option.name }}">
                          {% capture size_chart_html %}

                            {%- assign option_name_lower = option.name | downcase -%}
                            {%- assign target_option_name_lower = block.settings.size_chart_variant | downcase -%}
                            {%- if block.settings.show_size_chart and option_name_lower == target_option_name_lower and block.settings.size_chart_page != blank -%}
                              <div class="size-chart-container" ql-data-type="s_test_size">
                                <a href="#size-chart-content" class="size-chart-link">{{ 'products.product.size_chart' | t }}</a>
                                <div id="size-chart-content" class="hidden">
                                  <div class="size-chart">
                                    <div class="size-chart__inner rte">
                                      <h2>{{ pages[block.settings.size_chart_page].title }}</h2>
                                      {{ pages[block.settings.size_chart_page].content }}
                                    </div>
                                  </div>
                                </div>
                              </div>
                            {%- endif -%}
                          {% endcapture %}
                          {%- unless option_name_lowercase == 'color' -%}
                          
                          <label {% if option.name == 'default' %}class="hidden"{% endif %} for="option-{{ option.name | handle }}-{{ product.id }}" >
                            <b>{{- option.name -}}</b>{%- if show_swatches -%}: <span class="cc-swatches__label">{{ option.selected_value }}</span>{%- endif -%}
                            {%- if block.settings.variant_style == 'underlined' and show_swatches == false -%}{{ size_chart_html }}{%- endif -%}
                          </label>
                          
                         {%- endunless -%} 
                          <select id="option-{{ option.name | handle }}-{{ product.id }}" ql-swatch-type={{ option.name | handle  }}
                                  {% if block.settings.variant_style == 'underlined' or show_swatches %}class="noreplace" data-make-box{% endif %}
                            {% if show_swatches %}data-colour-swatch="true"{% endif %}>
                            {%- if option_name_lowercase == 'color'and arr_hb_data.size > 0 -%}  

                             <!---------------------- color --------------------------> 
                                                        
                                {%- assign this_page_handle = product.handle -%}   
                                {%- assign this_checked_gname = "" -%} 
                                {%- for this_hh_data_str in arr_hb_data -%}
                            	    {%- assign arr_hb_str_tmp = this_hh_data_str | split: '_' -%}
                              
                            		{%- assign this_gindex  = arr_hb_str_tmp[0] -%}
                            		{%- assign this_gname   = arr_hb_str_tmp[1] -%}
                            		{%- assign this_handle  = arr_hb_str_tmp[2] -%}
                            		{%- assign this_cindex  = arr_hb_str_tmp[3] -%}
                            		{%- assign this_vid     = arr_hb_str_tmp[4] -%}
                            		
                            		{%- assign this_head_str  = this_gindex | append:'_' | append:this_gname | append:'_' | append:this_handle | append:'_' | append:this_cindex | append:'_' | append:this_vid | append: '_' -%}
                            		{%- assign this_color     = this_hh_data_str | replace_first: this_head_str, '' -%}
                            		
                            		{%- if current_variant[current_option] == this_color and this_handle == product.handle -%}
                            			{%- assign this_checked_gname = this_gname -%}
                                        {%- break -%}
                            		{%- endif -%}
                                {%- endfor -%} 
                            {%- assign this_p_gname   = nil -%}
                        	{%- for this_hh_data_str in arr_hb_data -%}
                        	    {%- assign arr_hb_str_tmp = this_hh_data_str | split: '_' -%}
                          
                        		{%- assign this_gindex  = arr_hb_str_tmp[0] -%}
                        		{%- assign this_gname   = arr_hb_str_tmp[1] -%}
                        		{%- assign this_handle  = arr_hb_str_tmp[2] -%}
                        		{%- assign this_cindex  = arr_hb_str_tmp[3] -%}
                        		{%- assign this_vid     = arr_hb_str_tmp[4] -%}
                        		
                        		{%- assign this_head_str  = this_gindex | append:'_' | append:this_gname | append:'_' | append:this_handle | append:'_' | append:this_cindex | append:'_' | append:this_vid | append: '_' -%}
                        		{%- assign this_color     = this_hh_data_str | replace_first: this_head_str, '' -%}
                        		
                                {%- assign checked = "" -%}
                        		{%- if current_variant['option1'] == this_color -%}
                                    {% assign checked = 'selected="selected"' -%}                
                        		{%- endif -%}
                        		
                                {%- assign this_product_url = '/products/' | append: this_handle -%}                    
                        		
                                {%- if this_handle == this_page_handle -%} 
                        	        {%- assign qlclass = 'qlcolor' -%}
                        		{%- else -%}
                        		    {%- assign qlclass = 'qlcolorurl' -%}
                        		{%- endif -%}  
                        
                        
                                <option value="{{ this_color | escape }}"  ql-data-colorstate="{{ this_vid | escape  }}"  ql-data-group="{{ this_gname | escape }}" ql-data-color="{{ this_color | downcase | replace:' ', '-' | escape }}"  ql-data-class="{{ qlclass }}" ql-data-handle="{{this_handle}}"  ql-data-href="{{ this_product_url }}"  {{ checked }} >{{ this_color | escape }}</option>
                        
                            {%- endfor -%}
 <!---------------------- color -------------------------->                           
    
                   
                         {%- else -%}
                            {% for value in option.values %}
                              <option value="{{ value | escape }}" {% if option.selected_value == value %}selected{% endif %}>{{ value }}</option>
                            {% endfor %}
                            {%- endif -%} 
                          </select>
                          {% if block.settings.variant_style == 'dropdown' or show_swatches %}{{ size_chart_html }}{% endif %}
                        </div>
                      {% endfor %}
                      {%- comment -%}
                      {%- if arr_ql_length and arr_ql_length.size > 1 -%}
                        <div class="selector-wrapper has-clickyboxes">
                              <label><b>Length</b></label>  
                              <div>
                              <ul class="clickyboxes cc-init">
                                  
                              {%- for this_this_str in arr_ql_length -%}
                                  {%- assign arr_this_tmp = this_this_str | split: '_'  -%}

                                  {%- if arr_this_tmp.size > 2 -%}
                                      <li class="active">
                                          <a href="#"  class="active" style="border-bottom:2px solid #000;">{{- arr_this_tmp[0] -}}</a>    
                                      </li>
                                  
                                  {%- else -%}
                                      {%- assign this_length_url = '/products/' | append: arr_this_tmp[1]  -%} 
                                      <li>
                                          <a href="{{ this_length_url }}">{{- arr_this_tmp[0] -}}</a> 
                                      </li>
                                
                                  {%- endif -%}
                              {%- endfor -%}
                                
                                </ul>
                              </div>
                        </div>
                      {%- endif -%}		
                      {%- endcomment -%}	
                    </div>

                  {% else %}
                    <input type="hidden" class="single_variant_availability" value="{{ product.variants.first.inventory_quantity }}"/>

                    {% unless show_single_variant_details == false or product.has_only_default_variant %}
                      {% assign swatches_shown = false %}
                      {%- for option in product.options -%}
                        {% assign show_swatches = false %}
                        {% assign option_name_lowercase = option | downcase %}
                        {% if settings.swatch_enabled and option_name_lowercase == swatch_option_name_lowercase %}
                          {% assign show_swatches = true %}
                          {% assign swatches_shown = true %}
                        {% endif %}

                        <div class="selector-wrapper {% if show_swatches %}cc-swatches option--{{ option_name_lowercase | handle }}{% else %}single-option{% endif %} {% if settings.swatch_use_prod_images == true %}cc-swatches-prod-img{% endif %}"
                            data-option-name="{{ option }}">
                          {%- if option != 'Title' -%}
                            {%- assign opt_idx = 'option' | append: forloop.index -%}
                            {%- capture size_chart_html -%}
                              {%- assign option_name_lower = option | downcase -%}
                              {%- assign target_option_name_lower = block.settings.size_chart_variant | downcase -%}
                              {%- if block.settings.show_size_chart and option_name_lower == target_option_name_lower -%}
                                <div class="size-chart-container">
                                  <a href="#size-chart-content" class="size-chart-link">{{ 'products.product.size_chart' | t }}</a>
                                  <div id="size-chart-content" class="hidden">
                                    <div class="size-chart">
                                      <div class="size-chart__inner rte">
                                        <h2>{{ pages[block.settings.size_chart_page].title }}</h2>
                                        {{ pages[block.settings.size_chart_page].content }}
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              {%- endif -%}
                            {%- endcapture -%}

                            <label {% if show_swatches %}for="option-{{ option | handle }}-{{ product.id }}"{% endif %}>
                              {{- option -}}{%- if show_swatches -%}: <span class="cc-swatches__label">{{ product.variants.first[opt_idx] }}</span>{%- endif -%}
                              {%- unless show_swatches -%}{{- size_chart_html -}}:{%- endunless -%}
                            </label>

                            {% if show_swatches %}
                              <select name="id" id="option-{{ option | handle }}-{{ product.id }}" class="noreplace is-single-swatch" data-make-box data-colour-swatch="true">
                                <option value="{{ product.selected_or_first_available_variant.id }}" selected
                                        {% if section.settings.show_inventory_notice and product.selected_or_first_available_variant.inventory_management == 'shopify' and product.selected_or_first_available_variant.inventory_quantity > 0 %}
                                          {% if section.settings.inventory_notice_threshold == 0 or product.selected_or_first_available_variant.inventory_quantity <= section.settings.inventory_notice_threshold %}
                                            data-inventory="{{ product.selected_or_first_available_variant.inventory_quantity }}"
                                          {% endif %}
                                        {% endif %}
                                        data-stock="{% if product.selected_or_first_available_variant.inventory_management == 'shopify' and product.selected_or_first_available_variant.inventory_quantity <= 0 %}out{% endif %}">{{ product.variants.first[opt_idx] }}</option>
                              </select>

                              {{- size_chart_html -}}
                            {% else %}
                              {{ product.variants.first[opt_idx] }}
                            {% endif %}
                          {%- endif -%}
                        </div>
                      {%- endfor -%}
                    {% endunless %}

                    {% unless swatches_shown %}
                      <select name="id" id="option-{{ option | handle }}-{{ product.id }}" class="noreplace hidden">
                        <option value="{{ product.selected_or_first_available_variant.id }}" selected
                                {% if section.settings.show_inventory_notice and product.selected_or_first_available_variant.inventory_management == 'shopify' and product.selected_or_first_available_variant.inventory_quantity > 0 %}
                                  {% if section.settings.inventory_notice_threshold == 0 or product.selected_or_first_available_variant.inventory_quantity <= section.settings.inventory_notice_threshold %}
                                    data-inventory="{{ product.selected_or_first_available_variant.inventory_quantity }}"
                                  {% endif %}
                                {% endif %}
                                data-stock="{% if product.selected_or_first_available_variant.inventory_management == 'shopify' and product.selected_or_first_available_variant.inventory_quantity <= 0 %}out{% endif %}">{{ product.variants.first[opt_idx] }}</option>
                      </select>
                    {% endunless %}
                  {% endif %}
                </div>

              {%- when 'buy_buttons' -%}
                {% form 'product', product, id: product_form_id, class: product_form_class %}
                  <select name="id" class="original-selector" aria-label="{{ 'products.product.selector_label' | t | escape }}">
                    {%- for ql_this_handle in arr_product_hb_handles -%}
                        {%- assign ql_this_product = all_products[ql_this_handle] -%}

                        {%- comment -%}折扣{%- endcomment -%}
                        {% assign arr_discount_m =  ql_this_product.metafields.custom.discount.value %}
                        {% assign hasdiscount = false %}
                        {% assign discoutVal = 0 %}
                        {% for zk_value in arr_discount_m %}
                          {% assign date_now = "now" | date: "%s" %}
                          {% assign date_start = zk_value.start_time | replace_first: '_', ' '  | date: "%s" %}
                          {% assign date_end = zk_value.end_time | replace_first: '_', ' '  | date: "%s" %}
                          {% assign this_handle = zk_value.handle | handle %}
                          {% if date_now > date_start and date_now < date_end and ql_this_product.handle == this_handle %}
                              {% assign hasdiscount = true %}
                              {% assign discoutVal = zk_value.discount_value | abs %}
                          {% endif %}
                        {% endfor %}

                        {% for variant in ql_this_product.variants %}
                          <option value="{{ variant.id }}" data-discount="{{discoutVal}}"
                                  {% if variant == current_variant %} selected="selected"{% endif %}
                                  {% if variant.inventory_management != blank %}
                                    data-inventory="{{ variant.inventory_quantity }}"
                                  {% endif %}
                                  data-stock="{% if variant.inventory_management != blank and variant.inventory_quantity <= 0 %}out{% endif %}">{{ variant.title | escape }}</option>
                        {% endfor %}
                      {%- endfor -%}
                  </select>

                  {% if product.available %}
                    {% if section.settings.show_inventory_notice %}
                      {%- capture inventory_notice -%}
                        {%- if current_variant.inventory_management == 'shopify' and current_variant.inventory_quantity > 0 -%}
                          {%- if section.settings.inventory_notice_threshold == 0 or current_variant.inventory_quantity <= section.settings.inventory_notice_threshold -%}
                            <div class="product-inventory-notice" {{ block.shopify_attributes }}>
                              {{- 'products.labels.only_x_left' | t: quantity: current_variant.inventory_quantity -}}
                            </div>
                          {%- else -%}
                            <div class="product-inventory-notice product-inventory-notice--no-inventory" {{ block.shopify_attributes }}></div>
                          {%- endif -%}
                        {%- else -%}
                          <div class="product-inventory-notice product-inventory-notice--no-inventory" {{ block.shopify_attributes }}></div>
                        {%- endif -%}
                      {%- endcapture -%}
                    {% endif %}

                    {{ inventory_notice }}

                    {%- if block.settings.show_tax_and_shipping -%}
                      {%- if cart.taxes_included or shop.shipping_policy.body != blank -%}
                        <div class="rte product-policies">
                          <p>
                            {%- if cart.taxes_included -%}
                              {{ 'products.general.include_taxes' | t }}
                            {%- endif -%}
                            {%- if shop.shipping_policy.body != blank -%}
                              {{ 'products.general.shipping_policy_html' | t: link: shop.shipping_policy.url }}
                            {%- endif -%}
                          </p>
                        </div>
                      {%- endif -%}
                    {%- endif -%}

                    <div class="product-status-message"></div>

                    <div class="product-detail__form__action product-detail__gap-lg
                          {% if block.settings.show_quantity_selector %}product-detail__form__options--with-quantity{% endif %}
                          {% if block.settings.enable_payment_button and product.selling_plan_groups == empty %}with-payment-button{% endif %}">

                      {% if block.settings.show_quantity_selector %}
                        <div class="quantity-wrapper border-radius-{{ settings.buttons_shape }}">
                          <a href="#" data-quantity="down">&minus;</a>
                          <input aria-label="{{ 'products.product.quantity' | t }}" class="select-on-focus" name="quantity" value="1" />
                          <a href="#" data-quantity="up">&plus;</a>
                        </div>
                      {% else %}
                        <input type="hidden" name="quantity" value="1" />
                      {% endif %}
                      <button class="button {% if block.settings.enable_payment_button and product.selling_plan_groups == empty %}alt{% endif %}" type="submit" name="add">
                        {{ 'products.product.add_to_cart' | t }}
                      </button>

                      {% if block.settings.enable_payment_button and product.selling_plan_groups == empty %}
                        {{ form | payment_button }}
                      {% endif %}
                    </div>

                    {{ form | payment_terms }}

                    {% if block.settings.show_pickup_availability %}
                      {% render 'store-availability', product: product, current_variant: current_variant %}
                    {% endif %}

                    {% if section.settings.show_backorder_text %}
                      {% render 'backorder', variant: product.selected_variant %}
                    {% endif %}
                  {% else %}
                    <p>{{ 'products.product.product_unavailable' | t }}</p>
                  {% endif %}
                {% endform %}

                {%- comment -%} 亚马逊折扣链接
                {% for zk_value in arr_discount_metafield %}
                  {% assign date_now = "now" | date: "%s" %}
                  {% assign date_start = zk_value.start_time | replace_first: '_', ' '  | date: "%s" %}
                  {% assign date_end = zk_value.end_time | replace_first: '_', ' '  | date: "%s" %}
                  {% assign this_handle = zk_value.handle | handle %}
                  {% if date_now > date_start and date_now < date_end and zk_value.amazon_url != "" %}
                  
                      <a class="button alt onboarding-button ql-discount-amazon-btn" data-d-handle="{{this_handle}}" href="{{zk_value.amazon_url}}"
                      style="display: {% if product.handle == this_handle %}block{% else %}none{% endif %};">
                        BUY ON AMAZON
                      </a>
                  {% endif %}
                {% endfor %}
                 {%- endcomment -%}
              {%- when 'tabs' -%}
                <div class="product-detail__tab-container product-detail__gap-lg" {{ block.shopify_attributes }}>
                  {%- assign product_description_title = 'products.product.description' | t -%}

                  {%- liquid
                    if block.settings.show_product_description == false
                      assign tab1_title = block.settings.tab_2_title | default: pages[block.settings.tab_2_page].title
                      assign tab1_content = block.settings.tab_2_content | default: pages[block.settings.tab_2_page].content
                      assign tab2_title = block.settings.tab_3_title | default: pages[block.settings.tab_3_page].title
                      assign tab2_content = block.settings.tab_3_content | default: pages[block.settings.tab_3_page].content
                      assign tab3_title = block.settings.tab_4_title | default: pages[block.settings.tab_4_page].title
                      assign tab3_content = block.settings.tab_4_content | default: pages[block.settings.tab_4_page].content
                    else
                      assign tab1_title = product_description_title
                      assign tab1_content = product.description
                      assign tab2_title = block.settings.tab_2_title | default: pages[block.settings.tab_2_page].title
                      assign tab2_content = block.settings.tab_2_content | default: pages[block.settings.tab_2_page].content
                      assign tab3_title = block.settings.tab_3_title | default: pages[block.settings.tab_3_page].title
                      assign tab3_content = block.settings.tab_3_content | default: pages[block.settings.tab_3_page].content
                      assign tab4_title = block.settings.tab_4_title | default: pages[block.settings.tab_4_page].title
                      assign tab4_content = block.settings.tab_4_content | default: pages[block.settings.tab_4_page].content
                    endif

                    assign description_style = block.settings.description_style
                    assign accordion_is_closed = false

                    if block.settings.description_style == "accordion_closed"
                      assign accordion_is_closed = true
                      assign description_style = "accordion"
                    endif
                  -%}

                  {%
                          render "tabs",
                          product: product,
                          display_type: description_style,
                          show_reviews: settings.enable_reviews,
                          accordion_is_closed: accordion_is_closed,
                          tab1_title: tab1_title,
                          tab1_content: tab1_content,
                          tab2_title: tab2_title,
                          tab2_content: tab2_content,
                          tab3_title: tab3_title,
                          tab3_content: tab3_content,
                          tab4_title: tab4_title,
                          tab4_content: tab4_content
                  %}
                </div>
              {%- when 'text' -%}
                {%- if block.settings.text != blank -%}
                  <div class="product-area__text-block rte product-detail__gap-sm {% if block.settings.text_style == "subtitle" %}product-area__subtitle{% elsif block.settings.text_style == "uppercase" %}feature-subheader{% elsif block.settings.text_style == "bold" %}product-area__bold{% endif %}" {{ block.shopify_attributes }}>
                    {{ block.settings.text }}
                  </div>
                {%- endif -%}

              {%- when 'richtext' -%}
                {%- if block.settings.text != blank -%}
                  <div class="product-area__rich-text-block product-detail__gap-sm rte" {{ block.shopify_attributes }}>
                    {{ block.settings.text }}
                  </div>
                {%- endif -%}

              {%- when 'link' -%}
                {%- if block.settings.text != blank -%}
                  <a href="{{ block.settings.url }}" {{ block.shopify_attributes }}
                    {% if block.settings.open_new_window %}target="_blank"{% endif %}
                    class="product-area__link {% if block.settings.text_style == "button_primary" %}button{% elsif block.settings.text_style == "button_secondary" %}button alt{% endif %}">
                    {{ block.settings.text }}
                  </a>
                {%- endif -%}

              {% when 'image' %}
                {% if block.settings.image != blank %}
                  <div class="product-detail__gap-sm inline-width-container" data-show-in-quickbuy="{{ block.settings.show_in_quickbuy }}" style="max-width: {{ block.settings.image_width }}px" {{ block.shopify_attributes }}>
                    {% if block.settings.url != blank %}<a href="{{ block.settings.url }}">{% endif %}
                    {% render 'responsive-image', image: block.settings.image %}
                    {% if block.settings.url != blank %}</a>{% endif %}
                  </div>
                {% endif %}

              {% when 'custom_liquid' %}
                {% if block.settings.custom_liquid %}
                  <div class="product-detail__gap-sm" data-show-in-quickbuy="{{ block.settings.show_in_quickbuy }}" {{ block.shopify_attributes }}>{{ block.settings.custom_liquid }}</div>
                {% endif %}

              {%- when 'trust_icons' -%}
                <div class="product-detail__gap-lg product-detail__trust-icons" {{ block.shopify_attributes }}>
                  {% if block.settings.show_icon1 %}
                    <figure class="product-detail__trust-icon">
                      <div class="product-detail__trust-img" style="height: {{ block.settings.icon_size }}px;width: {{ block.settings.icon_size }}px;">
                        {% if block.settings.image1 %}
                          {%- assign image_width = block.settings.icon_size |  times: 2 | append: "x" -%}
                          <img class="cc-icon" src="{{ block.settings.image1 | img_url: image_width }}" alt="{{ block.settings.image1.alt }}" width="{{ block.settings.icon_size }}"/>
                        {% else %}
                          {% render 'icon', icon: block.settings.icon1, width: block.settings.icon_size %}
                        {% endif %}
                      </div>

                      {% if block.settings.text1 != blank %}
                        <figcaption class="product-detail__trust-caption rte">
                          {{ block.settings.text1 }}
                        </figcaption>
                      {% endif %}
                    </figure>
                  {% endif %}

                  {% if block.settings.show_icon2 %}
                    <figure class="product-detail__trust-icon">
                      <div class="product-detail__trust-img" style="height: {{ block.settings.icon_size }}px;width: {{ block.settings.icon_size }}px;">
                        {% if block.settings.image2 %}
                          {%- assign image_width = block.settings.icon_size |  times: 2 | append: "x" -%}
                          <img class="cc-icon" src="{{ block.settings.image2 | img_url: image_width }}" alt="{{ block.settings.image2.alt }}" width="{{ block.settings.icon_size }}"/>
                        {% else %}
                          {% render 'icon', icon: block.settings.icon2, width: block.settings.icon_size %}
                        {% endif %}
                      </div>

                      {% if block.settings.text2 != blank %}
                        <figcaption class="product-detail__trust-caption rte">
                          {{ block.settings.text2 }}
                        </figcaption>
                      {% endif %}
                    </figure>
                  {% endif %}

                  {% if block.settings.show_icon3 %}
                    <figure class="product-detail__trust-icon">
                      <div class="product-detail__trust-img" style="height: {{ block.settings.icon_size }}px;width: {{ block.settings.icon_size }}px;">
                        {% if block.settings.image3 %}
                          {%- assign image_width = block.settings.icon_size |  times: 2 | append: "x" -%}
                          <img class="cc-icon" src="{{ block.settings.image3 | img_url: image_width }}" alt="{{ block.settings.image3.alt }}" width="{{ block.settings.icon_size }}"/>
                        {% else %}
                          {% render 'icon', icon: block.settings.icon3, width: block.settings.icon_size %}
                        {% endif %}
                      </div>

                      {% if block.settings.text1 != blank %}
                        <figcaption class="product-detail__trust-caption rte">
                          {{ block.settings.text3 }}
                        </figcaption>
                      {% endif %}
                    </figure>
                  {% endif %}

                  {% if block.settings.show_icon4 %}
                    <figure class="product-detail__trust-icon">
                      <div class="product-detail__trust-img" style="height: {{ block.settings.icon_size }}px;width: {{ block.settings.icon_size }}px;">
                        {% if block.settings.image4 %}
                          {%- assign image_width = block.settings.icon_size |  times: 2 | append: "x" -%}
                          <img class="cc-icon" src="{{ block.settings.image4 | img_url: image_width }}" alt="{{ block.settings.image4.alt }}" width="{{ block.settings.icon_size }}"/>
                        {% else %}
                          {% render 'icon', icon: block.settings.icon4, width: block.settings.icon_size %}
                        {% endif %}
                      </div>

                      {% if block.settings.text4 != blank %}
                        <figcaption class="product-detail__trust-caption rte">
                          {{ block.settings.text4 }}
                        </figcaption>
                      {% endif %}
                    </figure>
                  {% endif %}

                </div>

              {%- when 'social' -%}
                <div class="product-detail__gap-sm align-left" {{ block.shopify_attributes }}>
                  {% render 'social-sharing', share_title: product.title, share_permalink: product.url, share_image: product %}
                </div>

              {%- when 'divider' -%}
                <hr class="divider__line-{{ block.settings.show_line }} divider__gap-above-{{ block.settings.spacing_above }}  divider__gap-below-{{ block.settings.spacing_below }}" {{ block.shopify_attributes }}/>

            {%- endcase -%}
          {%- endfor -%}

          {%- if is_featured_product -%}
            <p class="rte">
              <a data-cc-animate-click href="{{ product.url }}" >{{ 'products.product.view_details' | t }}</a>
            </p>
          {%- endif -%}

          {% if collection.previous_product or collection.next_product %}
            <div class="align-left product-detail__other-products">
              {% if collection.previous_product %}
                <a data-cc-animate-click href="{{ collection.previous_product.url }}" title="{{ collection.previous_product.title }}">
                  {{ 'products.product.previous' | t }}
                </a>
              {% endif %}

              {% if collection.previous_product and collection.next_product %}/{% endif %}

              {% if collection.next_product %}
                <a data-cc-animate-click href="{{ collection.next_product.url }}" title="{{ collection.next_product.title }}">
                  {{ 'products.product.next' | t }}
                </a>
              {% endif %}
            </div>
          {% endif %}

          <div class="align-left product-detail__more_details">
            <a data-cc-animate-click href="{{ product.url }}" title="{{ product.title | escape }}">
              {{ 'products.quick_buy.read_more' | t }}
            </a>
          </div>

        {% else %}

          {%- for block in section.blocks -%}
            {%- case block.type -%}
              {%- when 'vendor_and_type' -%}
                {%- liquid
                  if block.settings.show_type and product.type != blank
                    assign type_empty = false
                  else
                    assign type_empty = true
                  endif

                  if block.settings.show_vendor and product.vendor != blank
                    assign vendor_empty = false
                  else
                    assign vendor_empty = true
                  endif
                -%}

                {% if type_empty == false or vendor_empty == false %}
                  <div class="vendor product-detail__gap-sm" {{ block.shopify_attributes }}>
                    {% if block.settings.show_vendor %}
                      <span class="brand">
                          <a data-cc-animate-click href="#">{{ 'onboarding.product.vendor' | t }}</a>
                        </span>
                    {% endif %}

                    {% if block.settings.show_type %}
                      <span class="cc-bullet">&bull;</span>
                      <span class="type"><a data-cc-animate-click href="#">{{ 'homepage.onboarding.product_type' | t }}</a></span>
                    {% endif %}
                  </div>
                {% endif %}

              {%- when 'title' -%}
                <a data-cc-animate-click class="product-area__details__title product-detail__gap-sm h2" href="{{ product.url }}" {{ block.shopify_attributes }}>
                  {{ 'onboarding.product.title' | t }}
                </a>

              {%- when 'price' -%}
                <div class="price-area product-detail__gap-sm" {{ block.shopify_attributes }}>
                  <span class="was-price">{{ 2999 | money }}</span>
                  <div class="price">{{ 1999 | money }}</div>
                </div>

              {%- when 'description' -%}
                <div class="product-detail__form__description product-detail__gap-lg rte align-left" {{ block.shopify_attributes }}>
                  {{ 'homepage.onboarding.body' | t }}
                </div>

              {%- when 'buy_buttons' -%}
                <div class="product-detail__form__action product-detail__gap-lg product-detail__form__action--onboarding product-detail__form__options--with-quantity" {{ block.shopify_attributes }}>

                  <div class="quantity-wrapper  border-radius-{{ settings.buttons_shape }}">
                    <a href="#" data-quantity="down">&minus;</a>
                    <input aria-label="{{ 'products.product.quantity' | t }}" class="select-on-focus" name="quantity" value="1" />
                    <a href="#" data-quantity="up">&plus;</a>
                  </div>

                  <button class="button alt onboarding-button" type="submit" name="add">
                    {{ 'products.product.add_to_cart' | t }}
                  </button>
                </div>

            {%- endcase -%}
          {%- endfor -%}

          {%- if is_featured_product -%}
            <p class="rte">
              <a data-cc-animate-click href="{{ product.url }}" >{{ 'products.product.view_details' | t }}</a>
            </p>
          {%- endif -%}
        {% endif %}
      </div>
    </div>
  </div>
</div>
</div>

<script type="application/json" id="cc-product-json-{{ product.id }}">
  {{ product | json }}
</script>

{% render 'structured-data-product', product: product, current_variant: current_variant %}

</div>

{% schema %}
  {
    "name": "Featured product",
    "class": "section-featured-product",
    "templates": ["404", "article", "blog", "collection", "cart", "index", "list-collections", "page", "product", "search"],
    "blocks": [
      {
         "type": "@app"
      },
      {
        "type": "title",
        "name": "Title",
        "limit": 1
      },
      {
        "type": "price",
        "name": "Price",
        "limit": 1
      },
      {
        "type": "vendor_and_type",
        "name": "Vendor/type",
        "settings": [
          {
            "type": "checkbox",
            "id": "show_vendor",
            "default": true,
            "label": "Show vendor"
          },
          {
            "type": "checkbox",
            "id": "show_type",
            "default": false,
            "label": "Show type"
          }
        ]
      },
      {
        "type": "sku",
        "name": "SKU",
        "limit": 1
      },
      {
        "type": "review_summary",
        "name": "Review stars",
        "limit": 1
      },
      {
        "type": "description",
        "name": "Description",
        "limit": 1
      },
      {
        "type": "variant_picker",
        "name": "Variant picker",
        "limit": 1,
        "settings": [
          {
            "type": "select",
            "id": "variant_style",
            "default": "underlined",
            "label": "Variant display style",
            "options": [
              {
                "label": "Dropdown",
                "value": "dropdown"
              },
              {
                "label": "Underlined",
                "value": "underlined"
              }
            ]
          },
          {
            "type": "checkbox",
            "id": "show_realtime_availability",
            "label": "Cross out unavailable options every time someone changes a variant",
            "info": "Only applies when the 'Variant display style' is Underlined.",
            "default": true
          }
        ]
      },
      {
        "type": "buy_buttons",
        "name": "Buy buttons/quantity",
        "limit": 1,
        "settings": [
          {
            "type": "checkbox",
            "id": "show_tax_and_shipping",
            "label": "Show tax status and shipping policy link",
            "default": false
          },
          {
            "type": "checkbox",
            "id": "show_quantity_selector",
            "default": true,
            "label": "Show quantity selector"
          },
          {
            "type": "checkbox",
            "id": "enable_payment_button",
            "label": "Show dynamic checkout button",
            "info": "Each customer will see their preferred payment method from those available on your store, such as PayPal or Apple Pay. [Learn more](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
            "default": true
          }
        ]
      },
      {
        "type": "tabs",
        "name": "Tabs",
        "limit": 1,
        "settings": [
          {
            "type": "select",
            "id": "description_style",
            "label": "Display style",
            "default": "accordion",
            "options": [
              {
                "value": "accordion",
                "label": "Expandable tabs - first one opened"
              },
              {
                "value": "accordion_closed",
                "label": "Expandable tabs - closed"
              },
              {
                "value": "tab",
                "label": "Horizontal tabs"
              }
            ]
          },
          {
            "type": "checkbox",
            "id": "show_product_description",
            "label": "Show product description",
            "default": true
          },
          {
            "type": "header",
            "content": "Tab 1"
          },
          {
            "type": "page",
            "id": "tab_2_page",
            "label": "Content from page"
          },
          {
            "type": "text",
            "id": "tab_2_title",
            "label": "Title"
          },
          {
            "type": "richtext",
            "id": "tab_2_content",
            "label": "Content"
          },
          {
            "type": "header",
            "content": "Tab 2"
          },
          {
            "type": "page",
            "id": "tab_3_page",
            "label": "Content from page"
          },
          {
            "type": "text",
            "id": "tab_3_title",
            "label": "Title"
          },
          {
            "type": "richtext",
            "id": "tab_3_content",
            "label": "Content"
          },
          {
            "type": "header",
            "content": "Tab 3"
          },
          {
            "type": "page",
            "id": "tab_4_page",
            "label": "Content from page"
          },
          {
            "type": "text",
            "id": "tab_4_title",
            "label": "Title"
          },
          {
            "type": "richtext",
            "id": "tab_4_content",
            "label": "Content"
          }
        ]
      },
      {
        "type": "richtext",
        "name": "Rich text",
        "settings": [
          {
            "type": "richtext",
            "id": "text",
            "default": "<p>Text</p>",
            "label": "Rich text"
          }
        ]
      },
      {
        "type": "text",
        "name": "Text",
        "settings": [
          {
            "type": "text",
            "id": "text",
            "default": "Text block",
            "label": "Text"
          },
          {
            "type": "select",
            "id": "text_style",
            "default": "body",
            "label": "Style",
            "options": [
              {
                "value": "body",
                "label": "Body"
              },
              {
                "value": "bold",
                "label": "Bold"
              },
              {
                "value": "subtitle",
                "label": "Subtitle"
              },
              {
                "value": "uppercase",
                "label": "Uppercase"
              }
            ]
          }
        ]
      },
      {
        "type": "link",
        "name": "Link",
        "settings": [
          {
            "type": "text",
            "id": "text",
            "default": "Link",
            "label": "Text"
          },
          {
            "type": "url",
            "id": "url",
            "label": "Url"
          },
          {
            "type": "select",
            "id": "text_style",
            "default": "link",
            "label": "Style",
            "options": [
              {
                "value": "link",
                "label": "Link"
              },
              {
                "value": "button_primary",
                "label": "Primary button"
              },
              {
                "value": "button_secondary",
                "label": "Secondary button"
              }
            ]
          },
          {
            "type": "checkbox",
            "id": "open_new_window",
            "label": "Open in a new window",
            "default": false
          }
        ]
      },
      {
        "type": "trust_icons",
        "name": "Trust icons",
        "settings": [
          {
            "type": "range",
            "id": "icon_size",
            "min": 20,
            "max": 50,
            "step": 1,
            "unit": "px",
            "label": "Icon size",
            "default": 30
          },
          {
            "type": "header",
            "content": "Icon 1"
          },
          {
            "type": "checkbox",
            "id": "show_icon1",
            "label": "Show icon",
            "default": true
          },
          {
            "type": "richtext",
            "id": "text1",
            "default": "<p>Trust label</p>",
            "label": "Text"
          },
          {
            "type": "select",
            "id": "icon1",
            "label": "Icon",
            "default": "check_mark",
            "options": [
              {
                "value": "none",
                "label": "None"
              },
              {
                "value": "box",
                "label": "Box"
              },
              {
                "value": "chat_bubble",
                "label": "Chat bubble"
              },
              {
                "value": "check_mark",
                "label": "Check mark"
              },
              {
                "value": "dryer",
                "label": "Dryer"
              },
              {
                "value": "eye",
                "label": "Eye"
              },
              {
                "value": "heart",
                "label": "Heart"
              },
              {
                "value": "iron",
                "label": "Iron"
              },
              {
                "value": "leaf",
                "label": "Leaf"
              },
              {
                "value": "leather",
                "label": "Leather"
              },
              {
                "value": "lock",
                "label": "Lock"
              },
              {
                "value": "map_pin",
                "label": "Map pin"
              },
              {
                "value": "pants",
                "label": "Pants"
              },
              {
                "value": "plane",
                "label": "Plane"
              },
              {
                "value": "price_tag",
                "label": "Price tag"
              },
              {
                "value": "question_mark",
                "label": "Question mark"
              },
              {
                "value": "return",
                "label": "Return"
              },
              {
                "value": "ruler",
                "label": "Ruler"
              },
              {
                "value": "shirt",
                "label": "Shirt"
              },
              {
                "value": "shoe",
                "label": "Shoe"
              },
              {
                "value": "silhouette",
                "label": "Silhouette"
              },
              {
                "value": "star",
                "label": "Star"
              },
              {
                "value": "truck",
                "label": "Truck"
              },
              {
                "value": "washing",
                "label": "Washing"
              }
            ]
          },
          {
            "type": "image_picker",
            "id": "image1",
            "label": "Custom icon"
          },
          {
            "type": "header",
            "content": "Icon 2"
          },
          {
            "type": "checkbox",
            "id": "show_icon2",
            "label": "Show icon",
            "default": true
          },
          {
            "type": "richtext",
            "id": "text2",
            "default": "<p>Trust label</p>",
            "label": "Text"
          },
          {
            "type": "select",
            "id": "icon2",
            "label": "Icon",
            "default": "check_mark",
            "options": [
              {
                "value": "none",
                "label": "None"
              },
              {
                "value": "box",
                "label": "Box"
              },
              {
                "value": "chat_bubble",
                "label": "Chat bubble"
              },
              {
                "value": "check_mark",
                "label": "Check mark"
              },
              {
                "value": "dryer",
                "label": "Dryer"
              },
              {
                "value": "eye",
                "label": "Eye"
              },
              {
                "value": "heart",
                "label": "Heart"
              },
              {
                "value": "iron",
                "label": "Iron"
              },
              {
                "value": "leaf",
                "label": "Leaf"
              },
              {
                "value": "leather",
                "label": "Leather"
              },
              {
                "value": "lock",
                "label": "Lock"
              },
              {
                "value": "map_pin",
                "label": "Map pin"
              },
              {
                "value": "pants",
                "label": "Pants"
              },
              {
                "value": "plane",
                "label": "Plane"
              },
              {
                "value": "price_tag",
                "label": "Price tag"
              },
              {
                "value": "question_mark",
                "label": "Question mark"
              },
              {
                "value": "return",
                "label": "Return"
              },
              {
                "value": "ruler",
                "label": "Ruler"
              },
              {
                "value": "shirt",
                "label": "Shirt"
              },
              {
                "value": "shoe",
                "label": "Shoe"
              },
              {
                "value": "silhouette",
                "label": "Silhouette"
              },
              {
                "value": "star",
                "label": "Star"
              },
              {
                "value": "truck",
                "label": "Truck"
              },
              {
                "value": "washing",
                "label": "Washing"
              }
            ]
          },
          {
            "type": "image_picker",
            "id": "image2",
            "label": "Custom icon"
          },
          {
            "type": "header",
            "content": "Icon 3"
          },
          {
            "type": "checkbox",
            "id": "show_icon3",
            "label": "Show icon",
            "default": true
          },
          {
            "type": "richtext",
            "id": "text3",
            "default": "<p>Trust label</p>",
            "label": "Text"
          },
          {
            "type": "select",
            "id": "icon3",
            "label": "Icon",
            "default": "check_mark",
            "options": [
              {
                "value": "none",
                "label": "None"
              },
              {
                "value": "box",
                "label": "Box"
              },
              {
                "value": "chat_bubble",
                "label": "Chat bubble"
              },
              {
                "value": "check_mark",
                "label": "Check mark"
              },
              {
                "value": "dryer",
                "label": "Dryer"
              },
              {
                "value": "eye",
                "label": "Eye"
              },
              {
                "value": "heart",
                "label": "Heart"
              },
              {
                "value": "iron",
                "label": "Iron"
              },
              {
                "value": "leaf",
                "label": "Leaf"
              },
              {
                "value": "leather",
                "label": "Leather"
              },
              {
                "value": "lock",
                "label": "Lock"
              },
              {
                "value": "map_pin",
                "label": "Map pin"
              },
              {
                "value": "pants",
                "label": "Pants"
              },
              {
                "value": "plane",
                "label": "Plane"
              },
              {
                "value": "price_tag",
                "label": "Price tag"
              },
              {
                "value": "question_mark",
                "label": "Question mark"
              },
              {
                "value": "return",
                "label": "Return"
              },
              {
                "value": "ruler",
                "label": "Ruler"
              },
              {
                "value": "shirt",
                "label": "Shirt"
              },
              {
                "value": "shoe",
                "label": "Shoe"
              },
              {
                "value": "silhouette",
                "label": "Silhouette"
              },
              {
                "value": "star",
                "label": "Star"
              },
              {
                "value": "truck",
                "label": "Truck"
              },
              {
                "value": "washing",
                "label": "Washing"
              }
            ]
          },
          {
            "type": "image_picker",
            "id": "image3",
            "label": "Custom icon"
          },
          {
            "type": "header",
            "content": "Icon 4"
          },
          {
            "type": "checkbox",
            "id": "show_icon4",
            "label": "Show icon",
            "default": true
          },
          {
            "type": "richtext",
            "id": "text4",
            "default": "<p>Trust label</p>",
            "label": "Text"
          },
          {
            "type": "select",
            "id": "icon4",
            "label": "Icon",
            "default": "check_mark",
            "options": [
              {
                "value": "none",
                "label": "None"
              },
              {
                "value": "box",
                "label": "Box"
              },
              {
                "value": "chat_bubble",
                "label": "Chat bubble"
              },
              {
                "value": "check_mark",
                "label": "Check mark"
              },
              {
                "value": "dryer",
                "label": "Dryer"
              },
              {
                "value": "eye",
                "label": "Eye"
              },
              {
                "value": "heart",
                "label": "Heart"
              },
              {
                "value": "iron",
                "label": "Iron"
              },
              {
                "value": "leaf",
                "label": "Leaf"
              },
              {
                "value": "leather",
                "label": "Leather"
              },
              {
                "value": "lock",
                "label": "Lock"
              },
              {
                "value": "map_pin",
                "label": "Map pin"
              },
              {
                "value": "pants",
                "label": "Pants"
              },
              {
                "value": "plane",
                "label": "Plane"
              },
              {
                "value": "price_tag",
                "label": "Price tag"
              },
              {
                "value": "question_mark",
                "label": "Question mark"
              },
              {
                "value": "return",
                "label": "Return"
              },
              {
                "value": "ruler",
                "label": "Ruler"
              },
              {
                "value": "shirt",
                "label": "Shirt"
              },
              {
                "value": "shoe",
                "label": "Shoe"
              },
              {
                "value": "silhouette",
                "label": "Silhouette"
              },
              {
                "value": "star",
                "label": "Star"
              },
              {
                "value": "truck",
                "label": "Truck"
              },
              {
                "value": "washing",
                "label": "Washing"
              }
            ]
          },
          {
            "type": "image_picker",
            "id": "image4",
            "label": "Custom icon"
          }
        ]
      },
      {
        "type": "social",
        "name": "Social sharing icons",
        "limit": 1
      },
      {
        "type": "image",
        "name": "Image",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "range",
            "id": "image_width",
            "min": 60,
            "max": 700,
            "step": 10,
            "unit": "px",
            "label": "Image width",
            "default": 700
          },
          {
            "type": "url",
            "id": "url",
            "label": "Link"
          }
        ]
      },
      {
        "type": "custom_liquid",
        "name": "Custom Liquid",
        "settings": [
          {
            "type": "liquid",
            "id": "custom_liquid",
            "label": "Custom Liquid"
          }
        ]
      },
      {
        "type": "divider",
        "name": "Divider",
        "settings": [
          {
            "type": "checkbox",
            "id": "show_line",
            "label": "Show line",
            "default": true,
            "info": "Turn this off to making this just a spacing element"
          },
          {
            "type": "select",
            "id": "spacing_above",
            "default": "small",
            "label": "Spacing above",
            "options": [
              {
                "value": "none",
                "label": "None"
              },
              {
                "value": "small",
                "label": "Small"
              },
              {
                "value": "medium",
                "label": "Medium"
              },
              {
                "value": "large",
                "label": "Large"
              }
            ]
          },
          {
            "type": "select",
            "id": "spacing_below",
            "default": "small",
            "label": "Spacing below",
            "options": [
              {
                "value": "none",
                "label": "None"
              },
              {
                "value": "small",
                "label": "Small"
              },
              {
                "value": "medium",
                "label": "Medium"
              },
              {
                "value": "large",
                "label": "Large"
              }
            ]
          }
        ]
      }
    ],
    "settings": [
      {
        "type": "product",
        "id": "product",
        "label": "Product"
      },
      
  {
    "type": "select",
    "id": "cart_type",
    "label": "When 'Add to Cart' is clicked",
    "default": "",
    "options": [
      {
        "value": "",
        "label": "Stay on the same page"
      },
      {
        "value": "add_in_modal",
        "label": "Open popup with checkout button"
      },
      {
        "value": "add_in_modal_no_checkout",
        "label": "Open popup without checkout button"
      },
      {
        "value": "go_to_cart",
        "label": "Go to cart page"
      }
    ]
  }
,
      {
        "type": "header",
        "content": "Inventory"
      },
      
  {
    "type": "checkbox",
    "id": "show_backorder_text",
    "label": "Show backorder text",
    "default": true,
    "info": "Only shows for products which use Shopify inventory tracking and are available to purchase when out of stock."
  }
,
      
  {
    "type": "checkbox",
    "id": "show_inventory_notice",
    "label": "Show inventory notice",
    "default": false
  }
,
      
  {
    "type": "range",
    "id": "inventory_notice_threshold",
    "min": 0,
    "max": 100,
    "step": 1,
    "label": "Inventory threshold",
    "info": "Show inventory quantities below this threshold. Choose 0 to show full amount.",
    "default": 10
  }
,
      {
        "type": "header",
        "content": "Media"
      },
      {
        "type": "paragraph",
        "content": "Learn more about [media types](https://help.shopify.com/en/manual/products/product-media)"
      },
      {
        "type": "select",
        "id": "slide_nav_style",
        "label": "Slide navigation style",
        "default": "dots",
        "options": [
          {
            "value": "dots",
            "label": "Dots"
          },
          {
            "value": "arrows",
            "label": "Arrows"
          }
        ]
      },
      
  {
    "type": "checkbox",
    "id": "enable_zoom",
    "default": true,
    "label": "Enable image zoom"
  }
,
      
  {
    "type": "checkbox",
    "id": "enable_video_looping",
    "label": "Enable video looping",
    "default": false
  }

    ],
    "presets": [
      {
        "name": "Featured product",
        "category": "Product",
        "settings": {
        },
        "blocks": [
          {
            "type": "vendor_and_type"
          },
          {
            "type": "title"
          },
          {
            "type": "price"
          },
          {
            "type": "review_summary"
          },
          {
            "type": "variant_picker"
          },
          {
            "type": "buy_buttons"
          }
        ]
      }
    ]
  }
{% endschema %}
